<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Teacher Dashboard - College ERP</title>
    <link rel="stylesheet" href="style.css">
</head>
<body class="dashboard-body">
    <!-- Login Check Loading -->
    <div id="loadingScreen" class="loading-screen">
        <div class="loader">ğŸ”„ Verifying Login...</div>
    </div>

    <!-- Main Content -->
    <div id="mainContent" style="display: none;">
        <nav class="navbar">
            <div class="nav-left">
                <h2>ğŸ‘¨â€ğŸ« Teacher Dashboard</h2>
                <span id="currentUserId" class="user-badge"></span>
            </div>
            <button id="logoutBtn" class="logout-btn">Logout</button>
        </nav>

        <div class="dashboard-container">
            <!-- ğŸ”¥ COMPLETE Teacher Profile -->
            <div class="profile-card teacher-profile">
                <div class="profile-header">
                    <div class="profile-avatar">ğŸ‘¨â€ğŸ«</div>
                    <h2 id="teacherName">Loading...</h2>
                </div>
                
                <div class="profile-info">
                    <div class="info-item">
                        <span class="info-label">Gmail ID</span>
                        <span id="teacherGmail" class="info-value">-</span>
                    </div>
                    <div class="info-item">
                        <span class="info-label">Subject</span>
                        <span id="teacherSubject" class="info-value">-</span>
                    </div>
                    <div class="info-item">
                        <span class="info-label">Age</span>
                        <span id="teacherAge" class="info-value">-</span>
                    </div>
                    <div class="info-item">
                        <span class="info-label">Profession</span>
                        <span id="teacherProfession" class="info-value">-</span>
                    </div>
                    <div class="info-item">
                        <span class="info-label">Phone</span>
                        <span id="teacherPhone" class="info-value">-</span>
                    </div>
                    <div class="info-item">
                        <span class="info-label">DOB</span>
                        <span id="teacherDob" class="info-value">-</span>
                    </div>
                </div>

                <div class="profile-actions">
                    <button onclick="downloadProfile()" class="action-btn primary">ğŸ“¥ Download Profile</button>
                </div>
            </div>

            <!-- ğŸ”¥ CREATE CLASS FORM -->
            <div class="form-section">
                <h3>ğŸ“… Create New Class</h3>
                <form id="createClassForm">
                    <div class="form-row">
                        <input type="text" id="classBranch" placeholder="Branch (CSE, ECE, etc.)" required>
                        <input type="datetime-local" id="classStartTime" required>
                    </div>
                    <div class="form-row">
                        <input type="text" id="className" placeholder="Class Name (Maths-I, Physics Lab, etc.)" required>
                        <input type="text" id="classSubject" placeholder="Subject" required>
                    </div>
                    <button type="submit">â• Create Class & Load Students</button>
                </form>
                <div id="classCreatedMsg"></div>
            </div>

            <!-- ğŸ”¥ ATTENDANCE SECTION -->
            <div id="attendanceSection" class="data-section">
                <div class="section-header">
                    <h3>ğŸ“‹ Class Attendance - <span id="currentClassName">-</span></h3>
                    <span class="section-count" id="studentCount">0 Students</span>
                </div>
                
                <!-- Branch Students Checkboxes -->
                <div id="studentsList" class="students-grid"></div>
                
                <div class="attendance-actions">
                    <button id="markAttendanceBtn" class="action-btn primary" onclick="markAttendance()" disabled>âœ… Mark Attendance</button>
                    <button onclick="clearAllAttendance()" class="action-btn danger">âŒ Clear All</button>
                    <button onclick="saveClassHistory()" class="action-btn">ğŸ’¾ Save Class History</button>
                </div>
            </div>

            <!-- ğŸ”¥ STATS CARDS -->
            <div class="stats-grid">
                <div class="stat-card clickable" onclick="loadMyClasses()">
                    <div class="stat-icon">ğŸ“š</div>
                    <h3>My Classes</h3>
                    <span id="totalClasses">0</span>
                </div>
                <div class="stat-card clickable" onclick="showAttendanceStats()">
                    <div class="stat-icon">ğŸ“Š</div>
                    <h3>Attendance Stats</h3>
                    <span id="avgAttendance">0%</span>
                </div>
            </div>

            <!-- ğŸ”¥ CLASS HISTORY (Hidden) -->
            <div id="classHistorySection" class="data-section" style="display: none;">
                <div class="section-header">
                    <h3>ğŸ“š My Classes History</h3>
                    <button class="close-btn" onclick="hideClassHistory()">âœ•</button>
                </div>
                <div id="classesList" class="attendance-grid"></div>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
